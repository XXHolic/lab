<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="keywords" content="canvas,css,html,js,blue,line">
  <meta content="获取页面元素位置"">
  <meta name="format-detection" content="telephone=no">
  <title>获取页面元素位置</title>
  <link rel="shortcut icon" href="https://xxholic.github.io/lab/icon.ico">
  <link rel="stylesheet" href="../../css/newreset.css">
  <link rel="stylesheet" href="../../css/common.css">
  <style>
    .container {
      width: 300px;
      /* height: 1000px; */
      position: relative;
      border: 1px solid #333;
      padding: 10px;
    }

    .ele1 {
      border: 1px solid #666;
    }

    .ele2 {
      border: 1px solid #340;
    }

  </style>
</head>

<body class="pt50">
  <p>间接父元素示例，这里相对于 body </p>
  <ul>
    <li>可能会产生影响的信息说明：</li>
    <li>1. 所有元素 box-sizing：border-box</li>
    <li>2. 直接父元素使用了定位 position:relative</li>
  </ul>
  <div class="df container mb10" id='container'>
    <div class="flex-1 ele1">元素 1</div>
  </div>

  <div>
    <p id="result1"></p>
    <p id="result2"></p>
    <p id="result3"></p>
    <ul>
      <li>说明：</li>
      <li>元素 1 离直接父元素顶部 top 为 10px，直接父元素离 body 顶部 top 为 158px，加上直接父元素的边框 1px，元素 1 距 body 顶部实际是 10 + 158 + 1 = 169。</li>
      <li>元素 1 离直接父元素左边界 left 为 10px，直接父元素离 body 左边界  left 为 0px，加上直接父元素的边框 1px，元素 1 距 body 顶部实际是 10 + 0 + 1 = 11。</li>
    </ul>

  </div>
  <script src="../../js/common/util.js?v=202001281113"></script>
  <script src="../../js/common/insertLink.js"></script>
  <script src="./index.js"></script>
  <script>


    function getPos2() {
      var ele1 = document.querySelector('.ele1');
      var top = ele1.offsetTop;
      var left = ele1.offsetLeft;
      var container = document.querySelector('.container');
      var containerTop = container.offsetTop;
      var containerLeft = container.offsetLeft;
      var allTop = top + containerTop+1;
      var allLeft = left + containerLeft+1;

      document.querySelector("#result1").innerHTML = `直接父元素通过 js 获取结果：top:${containerTop} left:${containerLeft}`;
      document.querySelector("#result2").innerHTML = `元素 1 通过 js 获取结果：top:${top} left:${left}`;
      document.querySelector("#result3").innerHTML = `元素 1 通过 js 计算结果：top:${allTop} left:${allLeft}`;
      console.info('top',ele1.offsetTop)
      console.info('left',ele1.offsetLeft)
    }


    getPos2()
  </script>
</body>

</html>