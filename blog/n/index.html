<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="keywords" content="async,javascript,promise">
  <meta content="图片">
  <meta name="format-detection" content="telephone=no">
  <title>async</title>
  <link rel="shortcut icon" href="https://xxholic.github.io/lab/icon.ico">
  <link rel="stylesheet" href="../../css/newreset.css">
  <link rel="stylesheet" href="../../css/common.css">
  <link rel="stylesheet" href="./index.css">
</head>

<body class="pt50 tc hornbill">
  <div>
    <div class="level-one">
      <div class="level-two">
        <div class="painting"></div>
      </div>
      <div></div>
    </div>
  </div>
  <!-- <script src="../../js/common/insertLink.js"></script> -->
  <script>
    function addClass(ele,className) {
      const eleObj = document.querySelector(ele)
      let classAttribute = eleObj.getAttribute('class');
      if (classAttribute.indexOf(className)===-1) {
        classAttribute = `${classAttribute} ${className}`;
      }
      eleObj.setAttribute('class',classAttribute);
    }

    function removeClass(ele,className) {
      const eleObj = document.querySelector(ele)
      let classAttribute = eleObj.getAttribute('class');
      if (classAttribute.indexOf(className) > -1) {
        const reg = new RegExp(className,'g')
        classAttribute = classAttribute.replace(reg,'');
      }
      eleObj.setAttribute('class',classAttribute);
    }

    function createPaintEle() {
      const eleNum = 34;
      let str = '';
      for (let index = 0; index < eleNum; index++) {
        const count = index + 1;
        const ele = '<div class="wrap-piece wrap-piece'+ count +'"><div class="piece piece'+count+'"></div></div>';
        str +=ele;
      }

      document.querySelector('.painting').innerHTML = str;

    }

    function animalStatesShimmer() {

      setInterval(function(){

        setTimeout(function(){
          var bodyClass = document.body.getAttribute('class');
          if (bodyClass.indexOf('shimmer')===-1) {
            bodyClass = bodyClass + ' shimmer';
          }
          document.body.setAttribute('class',bodyClass);
        }, 4000);
        setTimeout(function(){
          var bodyClass = document.body.getAttribute('class');
          if (bodyClass.indexOf('shimmer')>-1) {
            bodyClass = bodyClass.replace(/shimmer/g,'');
          }
          document.body.setAttribute('class',bodyClass);
        }, 6000);

      },7000);

    }

    function animal1(e) {

      setInterval(function(){

        setTimeout(function(){
          addClass('body','animation-state1');
        }, 1000);
        setTimeout(function(){
          removeClass('body','animation-state1');
        }, 1100);
        setTimeout(function(){
          addClass('body','animation-state1');
        }, 1400);
        setTimeout(function(){
          removeClass('body','animation-state1');
        }, 1500);


      },3000);

      }

    createPaintEle()
    // animalStatesShimmer()
    // animal1()
  </script>
</body>

</html>